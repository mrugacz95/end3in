<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Shapes</title>
    <script src="../build/end3in.js"></script>
</head>
<body></body>
<script>
    const Engine = end3in.Engine,
        Rectangle = end3in.Rectangle,
        Collision = end3in.Collision,
        Graphics = end3in.Graphics,
        Polygon = end3in.Polygon,
        Vec2 = end3in.Vec2;

    let engine = new Engine(false, 'translation');

    const obj = new Polygon([[-0.5, 1.0], [2.0, 1.0], [0.5, 0.0]], 0, 0)
    engine.addBody(obj)

    for (let i = 0; i < 10; i++) {
        engine.addBody(new Rectangle(0.5, 0.5, (Math.random() - 0.5) * 5, (Math.random() - 0.5) * 5, 1, Math.random() >= 0.8));
        engine.addBody(new Polygon([[0.0, 0.0], [0.5, 0.0], [0.3, -0.8]], (Math.random() - 0.5) * 5, (Math.random() - 0.5) * 5, 1, Math.random() >= 0.8));
    }
    engine.addBody(new Rectangle(7, 1, -0, 4, 1, true));

    engine.start();

    const graphics = new Graphics(1500, 1500, engine, {debug: true}, scale = 60, cameraPos = new Vec2(6, 6))
    graphics.start()

    document.addEventListener("keydown", event => {
        if (event.isComposing || event.code === 'ArrowUp') {
            obj.applyImpulse(new Vec2(0, 50))
        }
        if (event.isComposing || event.code === 'ArrowDown') {
            obj.applyImpulse(new Vec2(0, -50))
        }
        if (event.isComposing || event.code === 'ArrowLeft') {
            obj.applyImpulse(new Vec2(50, 0))
        }
        if (event.isComposing || event.code === 'ArrowRight') {
            obj.applyImpulse(new Vec2(-50, 0))
        }
    });
</script>
</html>