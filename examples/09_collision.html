<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Shapes</title>
    <script src="../build/end3in.js"></script>
</head>
<body style="margin: 0;"></body>
<script>
    const Engine = end3in.Engine,
        Polygon = end3in.Polygon,
        Collision = end3in.Collision,
        Graphics = end3in.Graphics,
        Vec2 = end3in.Vec2,
        Rectangle = end3in.Rectangle;

    let engine = new Engine();
    const rect1 = new Rectangle(0.5, 0.5, 1);
    rect1.pos = Math.PI / 6
    rect1.pos = new Vec2(1, 6)
    const rect2 = new Rectangle(0.5, 0.5, 1);
    rect2.pos = new Vec2(0, 6)
    rect2.rot = Math.PI / 6
    let poly = new Polygon([[0.25, 0.25],
            [-0.25, 0.25],
            [-0.25, -0.25],
            [0.25, -0.25]],
        1, 1);
    poly.pos = new Vec2(2, 2)
    poly.rot = Math.PI / 7
    const ground = new Rectangle(10, 2,
        1, true);
    ground.pos = new Vec2(0, 5.0)
    engine.addBody(rect1);
    engine.addBody(rect2);
    engine.addBody(poly);
    engine.addBody(ground);

    engine.start();

    const graphics = new Graphics({width: 700, height: 700, engine: engine})
    graphics.start()

    function setup() {
        rect1.pos = new Vec2(0, 3);
        rect2.pos = new Vec2(0, 3.5);
        rect2.rot = 0;
        rect1.rot = 0;
        rect2.v = new Vec2(0, 0);
        rect1.v = new Vec2(0, 0);
    }

    setup();

    document.onmousedown = function () {
        setup()
    }

</script>
</html>