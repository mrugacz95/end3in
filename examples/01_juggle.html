<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Juggle</title>
    <script src="../build/end3in.js"></script>
</head>
<body>
</body>
<script>
    const Engine = end3in.Engine,
        Body = end3in.Body,
        Graphics = end3in.Graphics,
        Vec2 = end3in.Vector;
    const engine = Engine.create();
    const rect1 = Body.rect(0.5, 0.5, 3, 4);
    engine.addBody(rect1);
    engine.start();

    function applyForce(worldPosition) {
        const force = rect1.pos.sub(worldPosition).normalize().scale(1);
        rect1.applyForce(force.x, -force.y, worldPosition.x, worldPosition.y, 1000);
    }

    const graphics = Graphics.create(1000, 1000, engine, true,  60, applyForce)
    graphics.start()

    function getDocumentOffsetPosition(el) {
        let top = 0, left = 0;
        while (el !== null) {
            top += el.offsetTop;
            left += el.offsetLeft;
            el = el.offsetParent;
        }
        return {top, left};
    }
</script>
</html>