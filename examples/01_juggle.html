<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Juggle</title>
    <script src="../build/end3in.js"></script>
</head>
<body>
</body>
<script>
    const Engine = end3in.Engine;
    Vec2 = end3in.Vec2;
    const engine = new Engine();
    const rect1 = new end3in.Rectangle(0.5, 0.5, 3, false);
    engine.addBody(rect1);
    engine.start();

    function applyForce(worldPosition) {
        const force = rect1.pos.sub(worldPosition).normalize();
        rect1.v = rect1.v.add(force.scale(7));
    }

    const graphics = new end3in.Graphics({
        width: 1000,
        height: 1000,
        engine: engine,
        debug: true,
        scale: 60,
        clickCallback: applyForce
    })
    graphics.start()

    function getDocumentOffsetPosition(el) {
        let top = 0, left = 0;
        while (el !== null) {
            top += el.offsetTop;
            left += el.offsetLeft;
            el = el.offsetParent;
        }
        return {top, left};
    }
</script>
</html>